version: "3.1"

intents:
  - saludar
  - despedir
  - seleccionar_ambito
  - consultar_ambitos
  - confirmar_ambito
  - negar_ambito
  - solicitar_ayuda
  - informar_consulta
  - consultar_cubos
  - seleccionar_cubo

entities:
  - ambito
  - cubo
  - tipo_consulta

slots:
  ambito_seleccionado:
    type: text
    mappings:
    - type: from_entity
      entity: ambito
  cubo_seleccionado:
    type: text
    mappings:
    - type: from_entity
      entity: cubo
  tipo_consulta:
    type: text
    mappings:
    - type: from_entity
      entity: tipo_consulta

responses:
  utter_saludar:
    - text: "¡Hola! Soy el asistente de SEGEDA. ¿En qué ámbito te gustaría consultar información?"
  
  utter_consultar_ambitos:
    - text: "Los ámbitos disponibles son:\n- ACADÉMICO\n- ADMISIÓN\n- DOCTORADO\n- ESTUDIOS PROPIOS\n- DOCENCIA\n- I+D+i\n- MOVILIDAD\n- RRHH\n\n¿Cuál te interesa?"

  utter_confirmar_ambito:
    - text: "Has seleccionado el ámbito de {ambito_seleccionado}. ¿Es correcto?"

  utter_ayuda_seleccion:
    - text: "Puedo ayudarte a encontrar el ámbito correcto. ¿Qué tipo de información necesitas consultar?"

  utter_mostrar_cubos:
    - text: "En el ámbito de {ambito_seleccionado} tenemos los siguientes cubos:\n{cubos_disponibles}\n\n¿Cuál te interesa?"

  utter_confirmar_cubo:
    - text: "Has seleccionado el cubo de {cubo_seleccionado} en el ámbito de {ambito_seleccionado}. ¿Es correcto?"

  utter_pasar_a_langgraph:
    - text: "Perfecto, procederé a buscar la información en el cubo {cubo_seleccionado} del ámbito {ambito_seleccionado}."

  utter_no_entender:
    - text: "Lo siento, no he entendido bien. ¿Podrías reformular tu pregunta?"

  utter_despedir:
    - text: "¡Hasta luego! Si necesitas más información, no dudes en preguntar."

actions:
  - action_sugerir_ambito
  - action_mostrar_cubos
  - action_pasar_a_langgraph

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true 